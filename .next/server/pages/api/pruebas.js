"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/pruebas";
exports.ids = ["pages/api/pruebas"];
exports.modules = {

/***/ "mssql":
/*!************************!*\
  !*** external "mssql" ***!
  \************************/
/***/ ((module) => {

module.exports = require("mssql");

/***/ }),

/***/ "(api)/./pages/api/pruebas.js":
/*!******************************!*\
  !*** ./pages/api/pruebas.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var mssql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mssql */ \"mssql\");\n/* harmony import */ var mssql__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mssql__WEBPACK_IMPORTED_MODULE_0__);\n\nconst dbConfig = {\n    user: process.env.DB_USER,\n    password: process.env.DB_PASSWORD,\n    server: process.env.DB_SERVER,\n    database: process.env.DB_DATABASE,\n    options: {\n        encrypt: true,\n        trustServerCertificate: false\n    }\n};\nasync function handler(req, res) {\n    if (req.method === \"GET\") {\n        try {\n            const pool = await mssql__WEBPACK_IMPORTED_MODULE_0___default().connect(dbConfig);\n            const result = await pool.request().query(\"SELECT * FROM Pruebas\");\n            res.status(200).json(result.recordset);\n        } catch (err) {\n            res.status(500).json({\n                error: \"GET failed\",\n                details: err.message\n            });\n        }\n    //Added Save function \n    } else if (req.method === \"POST\") {\n        const { Nombre, Contraseña, email, tarjeta, monto } = req.body;\n        try {\n            const pool = await mssql__WEBPACK_IMPORTED_MODULE_0___default().connect(dbConfig);\n            await pool.request().input(\"Nombre\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar), Nombre).input(\"Contrase\\xf1a\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar), Contraseña).input(\"email\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar), email).input(\"tarjeta\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar), tarjeta).input(\"monto\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().Float), monto).query(`INSERT INTO Pruebas (Nombre, Contraseña, email, tarjeta, monto)\n                VALUES (@Nombre, @Contraseña, @email, @tarjeta, @monto);`);\n            res.status(201).json({\n                success: true\n            });\n        } catch (err) {\n            res.status(500).json({\n                error: \"POST failed\",\n                details: err.message\n            });\n        }\n    //Added Edit Fuction \n    } else if (req.method === \"PUT\") {\n        const { Consecutivo, Nombre, Contraseña, email, tarjeta, monto } = req.body;\n        try {\n            const pool = await mssql__WEBPACK_IMPORTED_MODULE_0___default().connect(dbConfig);\n            await pool.request().input(\"Consecutivo\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().Int), Consecutivo).input(\"Nombre\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar), Nombre).input(\"Contrase\\xf1a\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar), Contraseña).input(\"email\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar), email).input(\"tarjeta\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar), tarjeta).input(\"monto\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().Float), monto).query(`UPDATE Pruebas SET Nombre=@Nombre, Contraseña=@Contraseña, email=@email, tarjeta=@tarjeta, monto=@monto WHERE Consecutivo=@Consecutivo`);\n            res.status(200).json({\n                success: true\n            });\n        } catch (err) {\n            res.status(500).json({\n                error: \"PUT failed\",\n                details: err.message\n            });\n        }\n    //Added delete function \n    } else if (req.method === \"DELETE\") {\n        const { Consecutivo } = req.body;\n        if (!Consecutivo) {\n            return res.status(400).json({\n                error: \"Missing Consecutivo\"\n            });\n        }\n        try {\n            const pool = await mssql__WEBPACK_IMPORTED_MODULE_0___default().connect(dbConfig);\n            await pool.request().input(\"Consecutivo\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().Int), Consecutivo).query(\"DELETE FROM Pruebas WHERE Consecutivo = @Consecutivo\");\n            res.status(200).json({\n                success: true\n            });\n        } catch (err) {\n            res.status(500).json({\n                error: \"DELETE failed\",\n                details: err.message\n            });\n        }\n    } else {\n        res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBY0MsU0FBU0YsSUFBSUcsT0FBTztZQUFDO1FBQ25FO0lBRUYsd0JBQXdCO0lBQ3hCLE9BQU8sSUFBSWQsSUFBSUUsTUFBTSxLQUFLLFVBQVU7UUFDaEMsTUFBTSxFQUFFdUIsV0FBVyxFQUFFLEdBQUd6QixJQUFJb0IsSUFBSTtRQUVoQyxJQUFJLENBQUNLLGFBQWE7WUFDaEIsT0FBT3hCLElBQUlPLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVHLE9BQU87WUFBc0I7UUFDN0Q7UUFFQSxJQUFJO1lBQ0YsTUFBTVQsT0FBTyxNQUFNbkIsb0RBQVcsQ0FBQ0M7WUFDL0IsTUFBTWtCLEtBQ0hHLE9BQU8sR0FDUGUsS0FBSyxDQUFDLGVBQWVyQyxrREFBTyxFQUFFeUMsYUFDOUJsQixLQUFLLENBQUM7WUFDVE4sSUFBSU8sTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRWUsU0FBUztZQUFLO1FBQ3ZDLEVBQUUsT0FBT2IsS0FBSztZQUNaVixJQUFJTyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFRyxPQUFPO2dCQUFpQkMsU0FBU0YsSUFBSUcsT0FBTztZQUFDO1FBQ3RFO0lBQ0osT0FBTztRQUNMYixJQUFJTyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVHLE9BQU87UUFBcUI7SUFDckQ7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy11bmlmaWVkLXBydWViYXMtYXBwLy4vcGFnZXMvYXBpL3BydWViYXMuanM/NGEwNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc3FsIGZyb20gJ21zc3FsJztcblxuY29uc3QgZGJDb25maWcgPSB7XG4gIHVzZXI6IHByb2Nlc3MuZW52LkRCX1VTRVIsXG4gIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCxcbiAgc2VydmVyOiBwcm9jZXNzLmVudi5EQl9TRVJWRVIsXG4gIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9EQVRBQkFTRSxcbiAgb3B0aW9uczoge1xuICAgIGVuY3J5cHQ6IHRydWUsXG4gICAgdHJ1c3RTZXJ2ZXJDZXJ0aWZpY2F0ZTogZmFsc2UsXG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIGlmIChyZXEubWV0aG9kID09PSAnR0VUJykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwb29sID0gYXdhaXQgc3FsLmNvbm5lY3QoZGJDb25maWcpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5yZXF1ZXN0KCkucXVlcnkoJ1NFTEVDVCAqIEZST00gUHJ1ZWJhcycpO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0LnJlY29yZHNldCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnR0VUIGZhaWxlZCcsIGRldGFpbHM6IGVyci5tZXNzYWdlIH0pO1xuICAgIH1cblxuICAvL0FkZGVkIFNhdmUgZnVuY3Rpb24gXG4gIH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XG4gICAgY29uc3QgeyBOb21icmUsIENvbnRyYXNlw7FhLCBlbWFpbCwgdGFyamV0YSwgbW9udG8gfSA9IHJlcS5ib2R5O1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwb29sID0gYXdhaXQgc3FsLmNvbm5lY3QoZGJDb25maWcpO1xuICAgICAgYXdhaXQgcG9vbFxuICAgICAgICAucmVxdWVzdCgpXG4gICAgICAgIC5pbnB1dCgnTm9tYnJlJywgc3FsLk5WYXJDaGFyLCBOb21icmUpXG4gICAgICAgIC5pbnB1dCgnQ29udHJhc2XDsWEnLCBzcWwuTlZhckNoYXIsIENvbnRyYXNlw7FhKVxuICAgICAgICAuaW5wdXQoJ2VtYWlsJywgc3FsLk5WYXJDaGFyLCBlbWFpbClcbiAgICAgICAgLmlucHV0KCd0YXJqZXRhJywgc3FsLk5WYXJDaGFyLCB0YXJqZXRhKVxuICAgICAgICAuaW5wdXQoJ21vbnRvJywgc3FsLkZsb2F0LCBtb250bylcbiAgICAgICAgLnF1ZXJ5KGBJTlNFUlQgSU5UTyBQcnVlYmFzIChOb21icmUsIENvbnRyYXNlw7FhLCBlbWFpbCwgdGFyamV0YSwgbW9udG8pXG4gICAgICAgICAgICAgICAgVkFMVUVTIChATm9tYnJlLCBAQ29udHJhc2XDsWEsIEBlbWFpbCwgQHRhcmpldGEsIEBtb250byk7YCk7XG4gICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnUE9TVCBmYWlsZWQnLCBkZXRhaWxzOiBlcnIubWVzc2FnZSB9KTtcbiAgICB9XG5cbiAgLy9BZGRlZCBFZGl0IEZ1Y3Rpb24gXG4gIH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ1BVVCcpIHtcbiAgICBjb25zdCB7IENvbnNlY3V0aXZvLCBOb21icmUsIENvbnRyYXNlw7FhLCBlbWFpbCwgdGFyamV0YSwgbW9udG8gfSA9IHJlcS5ib2R5O1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwb29sID0gYXdhaXQgc3FsLmNvbm5lY3QoZGJDb25maWcpO1xuICAgICAgYXdhaXQgcG9vbFxuICAgICAgICAucmVxdWVzdCgpXG4gICAgICAgIC5pbnB1dCgnQ29uc2VjdXRpdm8nLCBzcWwuSW50LCBDb25zZWN1dGl2bylcbiAgICAgICAgLmlucHV0KCdOb21icmUnLCBzcWwuTlZhckNoYXIsIE5vbWJyZSlcbiAgICAgICAgLmlucHV0KCdDb250cmFzZcOxYScsIHNxbC5OVmFyQ2hhciwgQ29udHJhc2XDsWEpXG4gICAgICAgIC5pbnB1dCgnZW1haWwnLCBzcWwuTlZhckNoYXIsIGVtYWlsKVxuICAgICAgICAuaW5wdXQoJ3RhcmpldGEnLCBzcWwuTlZhckNoYXIsIHRhcmpldGEpXG4gICAgICAgIC5pbnB1dCgnbW9udG8nLCBzcWwuRmxvYXQsIG1vbnRvKVxuICAgICAgICAucXVlcnkoYFVQREFURSBQcnVlYmFzIFNFVCBOb21icmU9QE5vbWJyZSwgQ29udHJhc2XDsWE9QENvbnRyYXNlw7FhLCBlbWFpbD1AZW1haWwsIHRhcmpldGE9QHRhcmpldGEsIG1vbnRvPUBtb250byBXSEVSRSBDb25zZWN1dGl2bz1AQ29uc2VjdXRpdm9gKTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdQVVQgZmFpbGVkJywgZGV0YWlsczogZXJyLm1lc3NhZ2UgfSk7XG4gICAgfVxuXG4gIC8vQWRkZWQgZGVsZXRlIGZ1bmN0aW9uIFxuICB9IGVsc2UgaWYgKHJlcS5tZXRob2QgPT09ICdERUxFVEUnKSB7XG4gICAgICBjb25zdCB7IENvbnNlY3V0aXZvIH0gPSByZXEuYm9keTtcbiAgICBcbiAgICAgIGlmICghQ29uc2VjdXRpdm8pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdNaXNzaW5nIENvbnNlY3V0aXZvJyB9KTtcbiAgICAgIH1cbiAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvb2wgPSBhd2FpdCBzcWwuY29ubmVjdChkYkNvbmZpZyk7XG4gICAgICAgIGF3YWl0IHBvb2xcbiAgICAgICAgICAucmVxdWVzdCgpXG4gICAgICAgICAgLmlucHV0KCdDb25zZWN1dGl2bycsIHNxbC5JbnQsIENvbnNlY3V0aXZvKVxuICAgICAgICAgIC5xdWVyeSgnREVMRVRFIEZST00gUHJ1ZWJhcyBXSEVSRSBDb25zZWN1dGl2byA9IEBDb25zZWN1dGl2bycpO1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0RFTEVURSBmYWlsZWQnLCBkZXRhaWxzOiBlcnIubWVzc2FnZSB9KTtcbiAgICAgIH0gICAgXG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gIH0gIFxufVxuIl0sIm5hbWVzIjpbInNxbCIsImRiQ29uZmlnIiwidXNlciIsInByb2Nlc3MiLCJlbnYiLCJEQl9VU0VSIiwicGFzc3dvcmQiLCJEQl9QQVNTV09SRCIsInNlcnZlciIsIkRCX1NFUlZFUiIsImRhdGFiYXNlIiwiREJfREFUQUJBU0UiLCJvcHRpb25zIiwiZW5jcnlwdCIsInRydXN0U2VydmVyQ2VydGlmaWNhdGUiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwicG9vbCIsImNvbm5lY3QiLCJyZXN1bHQiLCJyZXF1ZXN0IiwicXVlcnkiLCJzdGF0dXMiLCJqc29uIiwicmVjb3Jkc2V0IiwiZXJyIiwiZXJyb3IiLCJkZXRhaWxzIiwibWVzc2FnZSIsIk5vbWJyZSIsIkNvbnRyYXNlw7FhIiwiZW1haWwiLCJ0YXJqZXRhIiwibW9udG8iLCJib2R5IiwiaW5wdXQiLCJOVmFyQ2hhciIsIkZsb2F0Iiwic3VjY2VzcyIsIkNvbnNlY3V0aXZvIiwiSW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/pruebas.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/pruebas.js"));
module.exports = __webpack_exports__;

})();