"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/pruebas";
exports.ids = ["pages/api/pruebas"];
exports.modules = {

/***/ "mssql":
/*!************************!*\
  !*** external "mssql" ***!
  \************************/
/***/ ((module) => {

module.exports = require("mssql");

/***/ }),

/***/ "(api)/./pages/api/pruebas.js":
/*!******************************!*\
  !*** ./pages/api/pruebas.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var mssql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mssql */ \"mssql\");\n/* harmony import */ var mssql__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mssql__WEBPACK_IMPORTED_MODULE_0__);\n\nconst dbConfig = {\n    user: process.env.DB_USER,\n    password: process.env.DB_PASSWORD,\n    server: process.env.DB_SERVER,\n    database: process.env.DB_DATABASE,\n    options: {\n        encrypt: true,\n        trustServerCertificate: false\n    }\n};\nasync function handler(req, res) {\n    if (req.method === \"GET\") {\n        try {\n            const pool = await mssql__WEBPACK_IMPORTED_MODULE_0___default().connect(dbConfig);\n            const result = await pool.request().query(\"SELECT * FROM Pruebas\");\n            res.status(200).json(result.recordset);\n        } catch (err) {\n            res.status(500).json({\n                error: \"GET failed\",\n                details: err.message\n            });\n        }\n    } else if (req.method === \"POST\") {\n        const { Nombre, Contraseña, email, tarjeta, monto } = req.body;\n        try {\n            const pool = await mssql__WEBPACK_IMPORTED_MODULE_0___default().connect(dbConfig);\n            await pool.request().input(\"Nombre\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar), Nombre).input(\"Contrase\\xf1a\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar), Contraseña).input(\"email\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar), email).input(\"tarjeta\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar), tarjeta).input(\"monto\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().Float), monto).query(`INSERT INTO Pruebas (Nombre, Contraseña, email, tarjeta, monto)\n                VALUES (@Nombre, @Contraseña, @email, @tarjeta, @monto);`);\n            res.status(201).json({\n                success: true\n            });\n        } catch (err) {\n            res.status(500).json({\n                error: \"POST failed\",\n                details: err.message\n            });\n        }\n    } else if (req.method === \"PUT\") {\n        const { Consecutivo, Nombre, Contraseña, email, tarjeta, monto } = req.body;\n        try {\n            const pool = await mssql__WEBPACK_IMPORTED_MODULE_0___default().connect(dbConfig);\n            await pool.request().input(\"Consecutivo\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().Int), Consecutivo).input(\"Nombre\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar), Nombre).input(\"Contrase\\xf1a\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar), Contraseña).input(\"email\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar), email).input(\"tarjeta\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().NVarChar), tarjeta).input(\"monto\", (mssql__WEBPACK_IMPORTED_MODULE_0___default().Float), monto).query(`UPDATE Pruebas SET Nombre=@Nombre, Contraseña=@Contraseña, email=@email, tarjeta=@tarjeta, monto=@monto WHERE Consecutivo=@Consecutivo`);\n            res.status(200).json({\n                success: true\n            });\n        } catch (err) {\n            res.status(500).json({\n                error: \"PUT failed\",\n                details: err.message\n            });\n        }\n    } else {\n        res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QztRQUNuRTtJQUNGLE9BQU87UUFDTGIsSUFBSU8sTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFRyxPQUFPO1FBQXFCO0lBQ3JEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtdW5pZmllZC1wcnVlYmFzLWFwcC8uL3BhZ2VzL2FwaS9wcnVlYmFzLmpzPzRhMDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNxbCBmcm9tICdtc3NxbCc7XG5cbmNvbnN0IGRiQ29uZmlnID0ge1xuICB1c2VyOiBwcm9jZXNzLmVudi5EQl9VU0VSLFxuICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQsXG4gIHNlcnZlcjogcHJvY2Vzcy5lbnYuREJfU0VSVkVSLFxuICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuREJfREFUQUJBU0UsXG4gIG9wdGlvbnM6IHtcbiAgICBlbmNyeXB0OiB0cnVlLFxuICAgIHRydXN0U2VydmVyQ2VydGlmaWNhdGU6IGZhbHNlLFxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICBpZiAocmVxLm1ldGhvZCA9PT0gJ0dFVCcpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcG9vbCA9IGF3YWl0IHNxbC5jb25uZWN0KGRiQ29uZmlnKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucmVxdWVzdCgpLnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIFBydWViYXMnKTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHJlc3VsdC5yZWNvcmRzZXQpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0dFVCBmYWlsZWQnLCBkZXRhaWxzOiBlcnIubWVzc2FnZSB9KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XG4gICAgY29uc3QgeyBOb21icmUsIENvbnRyYXNlw7FhLCBlbWFpbCwgdGFyamV0YSwgbW9udG8gfSA9IHJlcS5ib2R5O1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwb29sID0gYXdhaXQgc3FsLmNvbm5lY3QoZGJDb25maWcpO1xuICAgICAgYXdhaXQgcG9vbFxuICAgICAgICAucmVxdWVzdCgpXG4gICAgICAgIC5pbnB1dCgnTm9tYnJlJywgc3FsLk5WYXJDaGFyLCBOb21icmUpXG4gICAgICAgIC5pbnB1dCgnQ29udHJhc2XDsWEnLCBzcWwuTlZhckNoYXIsIENvbnRyYXNlw7FhKVxuICAgICAgICAuaW5wdXQoJ2VtYWlsJywgc3FsLk5WYXJDaGFyLCBlbWFpbClcbiAgICAgICAgLmlucHV0KCd0YXJqZXRhJywgc3FsLk5WYXJDaGFyLCB0YXJqZXRhKVxuICAgICAgICAuaW5wdXQoJ21vbnRvJywgc3FsLkZsb2F0LCBtb250bylcbiAgICAgICAgLnF1ZXJ5KGBJTlNFUlQgSU5UTyBQcnVlYmFzIChOb21icmUsIENvbnRyYXNlw7FhLCBlbWFpbCwgdGFyamV0YSwgbW9udG8pXG4gICAgICAgICAgICAgICAgVkFMVUVTIChATm9tYnJlLCBAQ29udHJhc2XDsWEsIEBlbWFpbCwgQHRhcmpldGEsIEBtb250byk7YCk7XG4gICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnUE9TVCBmYWlsZWQnLCBkZXRhaWxzOiBlcnIubWVzc2FnZSB9KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ1BVVCcpIHtcbiAgICBjb25zdCB7IENvbnNlY3V0aXZvLCBOb21icmUsIENvbnRyYXNlw7FhLCBlbWFpbCwgdGFyamV0YSwgbW9udG8gfSA9IHJlcS5ib2R5O1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwb29sID0gYXdhaXQgc3FsLmNvbm5lY3QoZGJDb25maWcpO1xuICAgICAgYXdhaXQgcG9vbFxuICAgICAgICAucmVxdWVzdCgpXG4gICAgICAgIC5pbnB1dCgnQ29uc2VjdXRpdm8nLCBzcWwuSW50LCBDb25zZWN1dGl2bylcbiAgICAgICAgLmlucHV0KCdOb21icmUnLCBzcWwuTlZhckNoYXIsIE5vbWJyZSlcbiAgICAgICAgLmlucHV0KCdDb250cmFzZcOxYScsIHNxbC5OVmFyQ2hhciwgQ29udHJhc2XDsWEpXG4gICAgICAgIC5pbnB1dCgnZW1haWwnLCBzcWwuTlZhckNoYXIsIGVtYWlsKVxuICAgICAgICAuaW5wdXQoJ3RhcmpldGEnLCBzcWwuTlZhckNoYXIsIHRhcmpldGEpXG4gICAgICAgIC5pbnB1dCgnbW9udG8nLCBzcWwuRmxvYXQsIG1vbnRvKVxuICAgICAgICAucXVlcnkoYFVQREFURSBQcnVlYmFzIFNFVCBOb21icmU9QE5vbWJyZSwgQ29udHJhc2XDsWE9QENvbnRyYXNlw7FhLCBlbWFpbD1AZW1haWwsIHRhcmpldGE9QHRhcmpldGEsIG1vbnRvPUBtb250byBXSEVSRSBDb25zZWN1dGl2bz1AQ29uc2VjdXRpdm9gKTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdQVVQgZmFpbGVkJywgZGV0YWlsczogZXJyLm1lc3NhZ2UgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsic3FsIiwiZGJDb25maWciLCJ1c2VyIiwicHJvY2VzcyIsImVudiIsIkRCX1VTRVIiLCJwYXNzd29yZCIsIkRCX1BBU1NXT1JEIiwic2VydmVyIiwiREJfU0VSVkVSIiwiZGF0YWJhc2UiLCJEQl9EQVRBQkFTRSIsIm9wdGlvbnMiLCJlbmNyeXB0IiwidHJ1c3RTZXJ2ZXJDZXJ0aWZpY2F0ZSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJwb29sIiwiY29ubmVjdCIsInJlc3VsdCIsInJlcXVlc3QiLCJxdWVyeSIsInN0YXR1cyIsImpzb24iLCJyZWNvcmRzZXQiLCJlcnIiLCJlcnJvciIsImRldGFpbHMiLCJtZXNzYWdlIiwiTm9tYnJlIiwiQ29udHJhc2XDsWEiLCJlbWFpbCIsInRhcmpldGEiLCJtb250byIsImJvZHkiLCJpbnB1dCIsIk5WYXJDaGFyIiwiRmxvYXQiLCJzdWNjZXNzIiwiQ29uc2VjdXRpdm8iLCJJbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/pruebas.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/pruebas.js"));
module.exports = __webpack_exports__;

})();